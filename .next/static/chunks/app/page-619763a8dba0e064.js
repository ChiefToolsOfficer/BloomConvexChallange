(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3651:function(e,t,a){Promise.resolve().then(a.bind(a,5308))},5308:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var s=a(7437),r=a(471),i=a(1620),l=a(9345),d=a(525),n=a(7533),c=a(5805);function o(e){let{title:t,value:a,subtitle:r,icon:i,trend:l,trendValue:d}=e;return(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:t}),(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:a}),r&&(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:r}),l&&d&&(0,s.jsxs)("p",{className:"text-sm mt-1 ".concat({up:"text-green-600",down:"text-red-600",neutral:"text-gray-500"}[l]),children:[{up:"↑",down:"↓",neutral:"→"}[l]," ",d]})]}),(0,s.jsx)("div",{className:"p-3 bg-indigo-100 rounded-lg",children:(0,s.jsx)(i,{className:"h-6 w-6 text-indigo-600"})})]})})}var x=a(1436),h=a(1156),m=a(6940),g=a(7059),p=a(2994),y=a(8155),u=a(3250),b=a(5487);function j(e){let{data:t}=e;return(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Email Volume (30 Days)"}),(0,s.jsx)(x.h,{width:"100%",height:300,children:(0,s.jsxs)(h.w,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[(0,s.jsx)(m.q,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,s.jsx)(g.K,{dataKey:"displayDate",tick:{fontSize:12},tickLine:!1}),(0,s.jsx)(p.B,{tick:{fontSize:12},tickLine:!1,axisLine:!1}),(0,s.jsx)(y.u,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),(0,s.jsx)(u.D,{}),(0,s.jsx)(b.x1,{type:"monotone",dataKey:"sent",stroke:"#6366f1",strokeWidth:2,dot:!1,name:"Sent"}),(0,s.jsx)(b.x1,{type:"monotone",dataKey:"delivered",stroke:"#22c55e",strokeWidth:2,dot:!1,name:"Delivered"}),(0,s.jsx)(b.x1,{type:"monotone",dataKey:"opened",stroke:"#f59e0b",strokeWidth:2,dot:!1,name:"Opened"})]})})]})}var f=a(7031),N=a(6207);function v(e){let{data:t}=e,a=t.map(e=>({...e,displayName:e.eventName.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}));return(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Emails by Event Type"}),(0,s.jsx)(x.h,{width:"100%",height:300,children:(0,s.jsxs)(f.v,{data:a,layout:"vertical",margin:{top:5,right:30,left:100,bottom:5},children:[(0,s.jsx)(m.q,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,s.jsx)(g.K,{type:"number",tick:{fontSize:12}}),(0,s.jsx)(p.B,{type:"category",dataKey:"displayName",tick:{fontSize:12},width:90}),(0,s.jsx)(y.u,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),(0,s.jsx)(N.$Q,{dataKey:"sent",fill:"#6366f1",radius:[0,4,4,0]})]})})]})}function w(e){let{data:t}=e,a=t.total||1;return(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Lifecycle Funnel"}),(0,s.jsx)("div",{className:"space-y-3",children:[{key:"total",label:"Total Users",color:"bg-gray-500"},{key:"new",label:"New",color:"bg-blue-500"},{key:"onboarding",label:"Onboarding",color:"bg-indigo-500"},{key:"active",label:"Active",color:"bg-green-500"},{key:"atRisk",label:"At Risk",color:"bg-yellow-500"},{key:"churned",label:"Churned",color:"bg-red-500"}].map(e=>{let r=t[e.key],i=(r/a*100).toFixed(1),l=Math.max(r/a*100,2);return(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-24 text-sm text-gray-600",children:e.label}),(0,s.jsx)("div",{className:"flex-1 mx-4",children:(0,s.jsx)("div",{className:"h-8 bg-gray-100 rounded-lg overflow-hidden",children:(0,s.jsx)("div",{className:"h-full ".concat(e.color," rounded-lg transition-all duration-500"),style:{width:"".concat(l,"%")}})})}),(0,s.jsxs)("div",{className:"w-20 text-right",children:[(0,s.jsx)("span",{className:"font-semibold text-gray-900",children:r}),(0,s.jsxs)("span",{className:"text-sm text-gray-500 ml-1",children:["(",i,"%)"]})]})]},e.key)})})]})}function k(e){let{data:t}=e,a=e=>e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),r=e=>e>=25?"text-green-600 bg-green-100":e>=15?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100";return(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Event Performance (30 Days)"})}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sent"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Delivered"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opened"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Open Rate"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Click Rate"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a(e.eventName)}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:e.sent.toLocaleString()}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:e.delivered.toLocaleString()}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:e.opened.toLocaleString()}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,s.jsxs)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(r(e.openRate)),children:[e.openRate,"%"]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,s.jsxs)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(r(e.clickRate)),children:[e.clickRate,"%"]})})]},e.eventName))})]})})]})}function D(){let e=(0,r.aM)(i.h.dashboard.getDashboardSummary),t=(0,r.aM)(i.h.dashboard.getDailyChartData,{days:30}),a=(0,r.aM)(i.h.dashboard.getStatsByEventType,{days:30}),x=(0,r.aM)(i.h.dashboard.getLifecycleFunnel);return e&&t&&a&&x?(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsx)(o,{title:"Emails Sent (30d)",value:e.last30Days.sent.toLocaleString(),subtitle:"".concat(e.today.sent," today"),icon:l.Z}),(0,s.jsx)(o,{title:"Delivery Rate",value:"".concat(e.last30Days.deliveryRate,"%"),icon:d.Z,trend:e.last30Days.deliveryRate>=95?"up":"down"}),(0,s.jsx)(o,{title:"Open Rate",value:"".concat(e.last30Days.openRate,"%"),icon:n.Z,trend:e.last30Days.openRate>=20?"up":"neutral"}),(0,s.jsx)(o,{title:"Active Users",value:e.users.active.toLocaleString(),subtitle:"".concat(e.users.atRisk," at risk"),icon:c.Z})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsx)(j,{data:t}),(0,s.jsx)(v,{data:a})]}),(0,s.jsx)(w,{data:x}),(0,s.jsx)(k,{data:a})]}):(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})}},1620:function(e,t,a){"use strict";a.d(t,{h:function(){return s}});let s={}}},function(e){e.O(0,[471,741,971,117,744],function(){return e(e.s=3651)}),_N_E=e.O()}]);